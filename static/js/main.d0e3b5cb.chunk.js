(this["webpackJsonpcards-fr"]=this["webpackJsonpcards-fr"]||[]).push([[0],{141:function(e,t,a){e.exports={error404:"Error404_error404__1ry36",error404_text:"Error404_error404_text__2VILg"}},177:function(e,t,a){e.exports={login:"Login_login__2iPmy",loginForm:"Login_loginForm__AYLAX",title:"Login_title__Nx4Wo",message:"Login_message__3XIc9"}},183:function(e,t,a){e.exports={registration:"Registration_registration__Gz9l-",registrationInner:"Registration_registrationInner__1ikOA",title:"Registration_title__3nqo_",message:"Registration_message__3rORD"}},184:function(e,t,a){e.exports={recovery:"Recovery_recovery__7ban8",title:"Recovery_title__3U_nk",button:"Recovery_button__3WSC1",message:"Recovery_message__10zGr"}},185:function(e,t,a){e.exports={createNewPassword:"CreateNewPassword_createNewPassword__14jYR",button:"CreateNewPassword_button__1zOYG"}},206:function(e,t,a){},207:function(e,t,a){},300:function(e,t,a){"use strict";a.r(t);var n=a(3),r=a(0),c=a.n(r),s=a(32),i=a.n(s),o=(a(206),a(35)),d=(a(207),a(34)),u=a(141),l=a.n(u),j=a.p+"static/media/girl-dancer.cfef6556.gif";var b=function(){return Object(n.jsxs)("div",{className:l.a.error404,children:[Object(n.jsx)("div",{className:l.a.error404_text,children:"404 Page not found!"}),Object(n.jsx)("br",{}),Object(n.jsx)("div",{className:l.a.girl,children:Object(n.jsx)("img",{src:j,alt:""})})]})},O=a(9),f=a(177),m=a.n(f),p=a(13),h=a(179),g=a.n(h).a.create({baseURL:"https://neko-back.herokuapp.com/2.0/",withCredentials:!0}),_=function(e){return g.post("auth/forgot",e)},x=function(e){return g.post("auth/login",e)},v=function(e){return g.post("auth/set-new-password",e)},k=function(e){return g.post("auth/register",e)},C=function(){return g.post("/auth/me",{})},w=function(){return g.delete("/auth/me",{})},P=function(){return g.get("cards/pack?pageCount=100")},y=function(e){return g.post("cards/pack",{cardsPack:e})},N=function(e){return g.delete("cards/pack?id=".concat(e))},I=function(e){return g.put("cards/pack",{cardsPack:e})},L=function(e){return g.get("cards/card/?cardsPack_id=".concat(e,"&pageCount=20"))},S=function(e){return g.post("cards/card/",{card:e})},R=function(e){return g.delete("cards/card?id=".concat(e))},E=function(e){return g.put("cards/grade",e)},A={_id:"",email:"",name:"",publicCardPacksCount:0,created:new Date,updated:new Date,isAdmin:!1,verified:!1,rememberMe:!1},T=function(e,t,a,n,r,c,s,i,o,d,u){return{type:G,_id:e,email:t,name:a,avatar:d,publicCardPacksCount:n,created:r,updated:c,isAdmin:s,verified:i,rememberMe:o,error:u}},G="profileChanged",F=a(196),D={login:"",password:"",rememberMe:!1,isLoggedIn:!1,error:""},M="emailChanged",U="passwordChanged",q="rememberMeChanged",W="onSubmit",z="onError",V="onLogout",H=function(){return{type:W,value:!0}},Y=function(e){return{type:z,error:e}},B=a(305),K=a(306),X=a(107),J=a(44),Q=function(){var e=Object(p.b)();return Object(p.c)((function(e){return e.isLoggedIn})).isLoggedIn?Object(n.jsx)(d.a,{to:ct.PROFILE}):Object(n.jsx)("div",{className:m.a.login,children:Object(n.jsxs)(B.a,Object(O.a)(Object(O.a)({},{labelCol:{span:8},wrapperCol:{span:16}}),{},{name:"basic",initialValues:{remember:!0},onFinish:function(t){var a,n;e((a=t.email,{type:M,value:a})),e(function(e){return{type:U,value:e}}(t.password)),e(function(e){return{type:q,value:e}}(t.rememberMe)),e((n={email:t.email,password:t.password,rememberMe:t.rememberMe},function(e){x(n).then((function(t){e(H()),e(T(t.data._id,t.data.email,t.data.name,t.data.publicCardPacksCount,t.data.created,t.data.updated,t.data.isAdmin,t.data.verified,t.data.rememberMe,t.data.avatar,t.data.error))})).catch((function(t){var a=t.response?t.response.data.error:t.message+", more details in the console";e(Y(a)),F.b.error(a)}))}))},children:[Object(n.jsx)(B.a.Item,{label:"Email",name:"email",rules:[{required:!0,message:"Please input your email!"}],children:Object(n.jsx)(K.a,{})}),Object(n.jsx)(B.a.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Please input your password!"}],children:Object(n.jsx)(K.a.Password,{})}),Object(n.jsx)(B.a.Item,Object(O.a)(Object(O.a)({},{wrapperCol:{offset:8,span:16}}),{},{name:"rememberMe",valuePropName:"checked",children:Object(n.jsx)(X.a,{children:"Remember me"})})),Object(n.jsx)(B.a.Item,Object(O.a)(Object(O.a)({},{wrapperCol:{offset:8,span:16}}),{},{children:Object(n.jsx)(J.a,{type:"primary",htmlType:"submit",children:"Submit"})}))]}))})},Z=a(183),$=a.n(Z),ee="CHANGE_EMAIL",te="CHANGE_PASSWORD",ae="IS_REGISTRATION",ne={isRegistered:!1,email:"",password:"",error:""},re=function(e){return function(t){k({email:e.email,password:e.password}).then((function(e){t({type:ae,isRegistered:!0})})).catch((function(e){var a=e.response?e.response.data.error:e.message+", more details in the console";t(Y(a)),F.b.error(a)}))}},ce=function(){var e=Object(p.c)((function(e){return e.isRegistered})),t=Object(p.b)();return e.isRegistered?Object(n.jsx)(d.a,{to:ct.LOGIN}):Object(n.jsx)("div",{className:$.a.registration,children:Object(n.jsxs)(B.a,Object(O.a)(Object(O.a)({},{labelCol:{span:8},wrapperCol:{span:16}}),{},{name:"basic",initialValues:{remember:!0},onFinish:function(e){t(re({email:e.email,password:e.password}))},children:[Object(n.jsx)(B.a.Item,{label:"Email",name:"email",rules:[{required:!0,message:"Please input your email!"}],children:Object(n.jsx)(K.a,{})}),Object(n.jsx)(B.a.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Please input your password!"}],children:Object(n.jsx)(K.a.Password,{})}),Object(n.jsx)(B.a.Item,Object(O.a)(Object(O.a)({},{wrapperCol:{offset:8,span:16}}),{},{children:Object(n.jsx)(J.a,{type:"primary",htmlType:"submit",children:"Submit"})}))]}))})},se=a(83),ie=a.n(se),oe=a.p+"static/media/smile.4174af4e.png",de=function(){var e,t=Object(p.c)((function(e){return e.profile}));return Object(n.jsx)("div",{className:ie.a.profileContainer,children:Object(n.jsxs)("div",{className:ie.a.profile,children:[Object(n.jsx)("div",{className:ie.a.avatar,children:Object(n.jsx)("img",{src:null!==(e=t.avatar)&&void 0!==e?e:oe,alt:"avatar"})}),Object(n.jsxs)("div",{className:ie.a.info,children:[Object(n.jsx)("div",{className:ie.a.name,children:t.name}),Object(n.jsx)("div",{className:ie.a.text,children:"Tha amount of public cards you created is ".concat(t.publicCardPacksCount)})]})]})})},ue=a(31),le=a(184),je=a.n(le),be={isDone:!0,recoveryInfo:"",setNewPasswordInfo:"",isNewPasswordSet:!1},Oe="SUCCESSFUL",fe="RESPONSE_RECOVERY_INFO",me="RESPONSE_SET_NEW_PASSWORD_INFO",pe="SET_NEW_PASSWORD",he=function(e){return{type:Oe,value:e}},ge=function(e){return function(t){_(e).then((function(e){var a;t(he(!0)),t((a=e.data.info,{type:fe,info:a})),F.b.success("All ok")})).catch((function(e){t(he(!1));var a=e.response?e.response.data.error:e.message+", more details in the console";t(Y(a)),F.b.error(a)}))}},_e=function(e){return function(t){v(e).then((function(e){var a;t(he(!0)),t({type:pe}),t((a=e.data.info,{type:me,info:a})),F.b.success("All ok")})).catch((function(e){var a=e.response?e.response.data.error:e.message+", more details in the console";t(Y(a)),F.b.error(a)}))}},xe=function(){var e=Object(p.c)((function(e){return e.recovery.isDone})),t=(Object(p.c)((function(e){return e.isLoggedIn.error})),Object(p.b)()),a=Object(r.useState)("valentyn.333k@gmail.com"),c=Object(ue.a)(a,2);c[0],c[1];return e?Object(n.jsx)(d.a,{to:ct.CREATE_NEW_PASSWORD}):Object(n.jsx)("div",{className:je.a.recovery,children:Object(n.jsxs)(B.a,Object(O.a)(Object(O.a)({},{labelCol:{span:8},wrapperCol:{span:16}}),{},{name:"basic",initialValues:{remember:!0},onFinish:function(e){t(he(!1)),t(ge({email:e.email,from:"neko.nyakus.cafe@gmail.com",message:"<div>password recovery link: <a href='https://valentyn-999.github.io/cards-fr#/create_new_password/$token$'>link</a></div>"}))},children:[Object(n.jsx)(B.a.Item,{label:"Email",name:"email",rules:[{required:!0,message:"Please input your email!"}],children:Object(n.jsx)(K.a,{})}),Object(n.jsx)(B.a.Item,Object(O.a)(Object(O.a)({},{wrapperCol:{offset:8,span:16}}),{},{children:Object(n.jsx)(J.a,{type:"primary",htmlType:"submit",children:"Submit"})}))]}))})},ve=a(185),ke=a.n(ve),Ce=function(){var e=Object(p.c)((function(e){return e.recovery})),t=Object(p.b)(),a=Object(r.useState)(""),c=Object(ue.a)(a,2),s=(c[0],c[1],Object(d.g)().resetPasswordToken);console.log(s);return e.isNewPasswordSet?Object(n.jsx)(d.a,{to:"/login"}):Object(n.jsx)("div",{className:ke.a.createNewPassword,children:Object(n.jsxs)(B.a,Object(O.a)(Object(O.a)({},{labelCol:{span:8},wrapperCol:{span:16}}),{},{name:"basic",initialValues:{remember:!0},onFinish:function(e){t(_e({password:e.password,resetPasswordToken:s}))},children:[Object(n.jsx)(B.a.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Please input your password!"}],children:Object(n.jsx)(K.a,{})}),Object(n.jsx)(B.a.Item,Object(O.a)(Object(O.a)({},{wrapperCol:{offset:8,span:16}}),{},{children:Object(n.jsx)(J.a,{type:"primary",htmlType:"submit",children:"Submit"})}))]}))})},we=function(){var e=Object(p.b)(),t=Object(p.c)((function(e){return e.isLoggedIn.isLoggedIn}));return Object(r.useEffect)((function(){e({type:V,value:!1}),e((function(e){w().then((function(){F.b.info("You've been logged out")})).catch((function(t){var a=t.response?t.response.data.error:t.message+", more details in the console";e(Y(a)),F.b.error(a)}))}))}),[e]),t?Object(n.jsx)("div",{}):Object(n.jsx)(d.a,{to:ct.LOGIN})},Pe=a(308),ye=a(309),Ne=a(186),Ie=a(302),Le=a(307),Se=a(304),Re=a(53),Ee={cards:[],cardsTotalCount:20,maxGrade:1/0,minGrade:1/0,page:1,pageCount:1,packUserId:"",cardsPack_id:"",isLoading:!1},Ae="getCards",Te="cardsPack_id",Ge="cardsLoaderIsOn",Fe=function(e){return{type:Ge,isLoading:e}},De=function(e){return function(t){t(Fe(!0)),L(e).then((function(e){t(function(e){return{type:Ae,data:e}}(e.data.cards))})).catch((function(e){var t=e.response?e.response.data.error:e.message+", more details in the console";F.b.error(t,2)})).finally((function(){t(Fe(!1))}))}},Me=function(){var e=Object(r.useState)(!1),t=Object(ue.a)(e,2),a=t[0],c=t[1],s=Object(r.useState)(""),i=Object(ue.a)(s,2),o=i[0],u=i[1],l=Object(r.useState)(""),j=Object(ue.a)(l,2),b=j[0],O=j[1],f=Object(p.c)((function(e){return e.cards.cards})),m=Object(p.c)((function(e){return e.cards.cardsPack_id})),h=Object(p.c)((function(e){return e.cards.isLoading})),g=Object(p.c)((function(e){return e.isLoggedIn.isLoggedIn})),_=Object(p.b)();Object(r.useEffect)((function(){m&&_(De(m))}),[_,m]);if(""===m)return Object(n.jsx)(d.a,{to:ct.PACKS});var x=[{title:"Question",dataIndex:"question",key:"question",width:"300px",render:function(e){return Object(n.jsx)("div",{children:e})}},{title:"Answer",dataIndex:"answer",key:"answer",width:"300px",render:function(e){return Object(n.jsx)("div",{children:e})}},{title:"Grade",dataIndex:"grade",key:"grade",width:"100px",sorter:{compare:function(e,t){return e.grade-t.grade},multiple:2},render:function(e){return Object(n.jsx)(Pe.b,{size:"middle",children:Object(n.jsx)("div",{children:e})})}},{title:"Last Update",dataIndex:"lastUpdate",key:"lastUpdate",width:"200px"},{title:"Actions",key:"actions",render:function(e,t){return Object(n.jsx)(Pe.b,{size:"middle",children:Object(n.jsx)(ye.a,{title:"Sure to delete?",onConfirm:function(){return v(t.key)},children:Object(n.jsx)("a",{children:"Delete"})})})}}],v=function(e){var t=e.toString();_(function(e){return function(t){t(Fe(!0)),R(e).then((function(e){t(De(e.data.deletedCard.cardsPack_id)),F.b.info("Picked card has been deleted")})).catch((function(e){var t=e.response?e.response.data.error:e.message+", more details in the console";F.b.error(t,2)})).finally((function(){t(Fe(!1))}))}}(t)),_({type:Te,value:t})},k=f.map((function(e){return{question:e.question,answer:e.answer,grade:e.grade,lastUpdate:e.updated.substr(0,10).replace(/-/g," "),key:e._id}}));return g?Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(Ne.a,{spinning:h,children:Object(n.jsxs)(Ie.a,{children:[Object(n.jsx)(J.a,{onClick:function(){c(!0)},children:"Add Card"}),Object(n.jsxs)(Le.a,{title:"Add Card",visible:a,onOk:function(){o?b?(c(!1),_(function(e){return function(t){t(Fe(!0)),S(e).then((function(e){t(De(e.data.newCard.cardsPack_id)),F.b.info("New card has been created")})).catch((function(e){var t=e.response?e.response.data.error:e.message+", more details in the console";F.b.error(t,2)})).finally((function(){t(Fe(!1))}))}}({cardsPack_id:m,question:"".concat(o.trim(),"?"),answer:b})),u(""),O("")):F.b.warn("Answer must contain at least one regular character"):F.b.warn("Question must contain at least one regular character")},onCancel:function(){c(!1)},children:[Object(n.jsx)("span",{children:"Question: "}),Object(n.jsx)(K.a,{value:o,onChange:function(e){u(e.currentTarget.value)}}),Object(n.jsx)("span",{children:"Answer: "}),Object(n.jsx)(K.a,{value:b,onChange:function(e){O(e.currentTarget.value)}})]}),Object(n.jsx)(Re.a,{children:Object(n.jsx)(Se.a,{dataSource:k,columns:x,pagination:{position:["topRight"],defaultPageSize:10,pageSizeOptions:["3","5","10","20","25"]}})})]})})}):Object(n.jsx)(d.a,{to:ct.LOGIN})},Ue=(a(176),{cardPacks:[],cardsPack_id:"",cardPacksTotalCount:14,maxCardsCount:4,minCardsCount:0,page:1,pageCount:4,isLoading:!1}),qe="getCardPacks",We="cardsPack_id",ze="packsLoaderIsOn",Ve=function(e){return{type:We,value:e}},He=function(e){return{type:ze,isLoading:e}},Ye=function(){return function(e){e(He(!0)),P().then((function(t){var a;e((a=t.data.cardPacks,{type:qe,data:a}))})).catch((function(e){var t=e.response?e.response.data.error:e.message+", more details in the console";F.b.error(t,2)})).finally((function(){e(He(!1))}))}},Be=function(){var e=Object(r.useState)(!1),t=Object(ue.a)(e,2),a=t[0],c=t[1],s=Object(r.useState)(""),i=Object(ue.a)(s,2),u=i[0],l=i[1],j=Object(r.useState)(!0),b=Object(ue.a)(j,2),O=b[0],f=b[1],m=Object(r.useState)(!1),h=Object(ue.a)(m,2),g=h[0],_=h[1],x=Object(r.useState)(""),v=Object(ue.a)(x,2),k=v[0],C=v[1],w=Object(p.c)((function(e){return e.packs.cardPacks})),P=Object(p.c)((function(e){return e.packs.cardsPack_id})),L=Object(p.c)((function(e){return e.packs.isLoading})),S=Object(p.c)((function(e){return e.isLoggedIn.isLoggedIn})),R=Object(p.b)();Object(r.useEffect)((function(){O&&(R(Ye()),f(!1))}),[R,O]);if(!S)return Object(n.jsx)(d.a,{to:ct.LOGIN});var E=[{title:"Name",dataIndex:"name",key:"name",width:"250px",render:function(e){return Object(n.jsx)("div",{children:Object(n.jsx)(o.b,{to:ct.CARDS,children:e})})}},{title:"Creator",dataIndex:"creator",key:"creator",width:"100",render:function(e){return Object(n.jsx)(Pe.b,{size:"middle",children:Object(n.jsx)("div",{children:e})})}},{title:"Cards Count",dataIndex:"cardsCount",key:"cardsCount",width:"200",sorter:{compare:function(e,t){return e.cardsCount-t.cardsCount},multiple:1}},{title:"Last Update",dataIndex:"lastUpdate",key:"lastUpdate"},{title:"Action",key:"action",render:function(e,t){return Object(n.jsx)("div",{children:Object(n.jsxs)(Pe.b,{size:"middle",children:[Object(n.jsx)(ye.a,{title:"Sure to delete?",onConfirm:function(){return A(t.key)},children:Object(n.jsx)("a",{children:"Delete"})}),Object(n.jsx)(o.b,{to:ct.LEARN,children:"Learn"}),Object(n.jsx)("a",{rel:"stylesheet",onClick:function(){_(!0)},children:"Update"})]})})}}],A=function(e){var t,a=e.toString();R((t=a,function(e){e(He(!0)),N(t).then((function(t){e(Ye()),F.b.info("Pack ".concat(t.data.deletedCardsPack.name," has been deleted"))})).catch((function(e){var t=e.response?e.response.data.error:e.message+", more details in the console";F.b.error(t,2)})).finally((function(){e(He(!1))}))})),R(Ve(a))},T=w.map((function(e){return{name:e.name,cardsCount:e.cardsCount,lastUpdate:e.updated.substr(0,10).replace(/-/g," "),creator:e.user_name,key:e._id}}));return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(Ne.a,{spinning:L,children:Object(n.jsxs)(Ie.a,{children:[Object(n.jsx)(J.a,{onClick:function(){c(!0)},children:"Add Pack"}),Object(n.jsxs)(Le.a,{title:"Add Pack",visible:a,onOk:function(){u?(c(!1),R(function(e){return function(t){t(He(!0)),y(e).then((function(e){t(Ye()),F.b.info("New pack ".concat(e.data.newCardsPack.name," has been added"))})).catch((function(e){var t=e.response?e.response.data.error:e.message+", more details in the console";F.b.error(t,2)})).finally((function(){t(He(!1))}))}}({name:u})),l("")):F.b.error("Puck name must contain at least one regular character")},onCancel:function(){c(!1),l("")},children:[Object(n.jsx)("span",{children:"Pack name: "}),Object(n.jsx)(K.a,{onChange:function(e){l(e.currentTarget.value)},value:u})]}),Object(n.jsxs)(Le.a,{title:"Update pack name",visible:g,onOk:function(){k?(_(!1),R(function(e){return function(t){t(He(!0)),I(e).then((function(e){t(Ye()),F.b.info("Pack name has been updated to ".concat(e.data.updatedCardsPack.name))})).catch((function(e){var t=e.response?e.response.data.error:e.message+", more details in the console";F.b.error(t,2)})).finally((function(){t(He(!1))}))}}({_id:P,name:k})),C("")):F.b.error("Puck name must contain at least one regular character")},onCancel:function(){_(!1),C("")},children:[Object(n.jsx)("span",{children:"Update pack name: "}),Object(n.jsx)(K.a,{onChange:function(e){C(e.currentTarget.value)},value:k})]}),Object(n.jsx)(Re.a,{children:Object(n.jsx)(Se.a,{dataSource:T,columns:E,onRow:function(e){return{onClick:function(){var t;t=e.key,R(Ve(t))}}},pagination:{position:["topRight"],defaultPageSize:10,pageSizeOptions:["3","5","10","20","25"]}})})]})})})},Ke=a(303),Xe=a(56),Je=a.n(Xe),Qe={card_id:"",cardsPack_id:"",created:"",grade:0,more_id:"",shots:0,updated:"",user_id:"",__v:0,_id:""},Ze="updatedCard",$e=function(e){return function(t){E(e).then((function(e){t(function(e){return{type:Ze,data:e}}(e.data))})).catch((function(e){var t=e.response?e.response.data.error:e.message+", more details in the console";F.b.error(t,2)}))}},et=["\u041d\u0435 \u043f\u0435\u0440\u0435\u0436\u0438\u0432\u0430\u0439 \u0442\u044b \u0432\u0441\u0451 \u0440\u0430\u0432\u043d\u043e \u043a\u0440\u0430\u0441\u0430\u0432\u0447\u0438\u043a","\u0414\u0430 \u0442\u044b \u0432\u0441\u0451 \u0438 \u0442\u0430\u043a \u0437\u043d\u0430\u0435\u0448\u044c, \u043f\u0440\u043e\u0441\u0442\u043e \u0433\u043e\u043d\u0438\u0448\u044c","\u041d\u0443 \u0442\u044b \u043a\u0440\u0430\u0441\u0430\u0432\u0447\u0438\u043a","\u0421\u0430\u043c\u0443\u0440\u0430\u0439, \u043b\u0435\u0442\u0438 \u043d\u0430 \u0441\u043e\u0431\u0435\u0441!","\u0422\u044b \u0441\u0442\u043e\u043f\u0443\u0434\u043e\u0432\u044b\u0439 \u043c\u0438\u0434\u043b \u043d\u0435 \u043c\u0435\u043d\u044c\u0448\u0435!"],tt=function(e){var t=e.reduce((function(e,t){return e+(6-t.grade)*(6-t.grade)}),0),a=Math.random()*t,n=e.reduce((function(e,t,n){var r=e.sum+(6-t.grade)*(6-t.grade);return{sum:r,id:r<a?n:e.id}}),{sum:0,id:-1});return e[n.id+1]},at=function(){var e=Object(p.c)((function(e){return e.cards})).cards,t=Object(p.c)((function(e){return e.cards.cardsPack_id})),a=Object(p.c)((function(e){return e.isLoggedIn.isLoggedIn})),c=Object(p.b)(),s=Object(r.useState)(!0),i=Object(ue.a)(s,2),o=i[0],u=i[1],l=Object(r.useState)(!1),j=Object(ue.a)(l,2),b=j[0],O=j[1],f=Object(r.useState)(!0),m=Object(ue.a)(f,2),h=m[0],g=m[1],_=Object(r.useState)(!1),x=Object(ue.a)(_,2),v=x[0],k=x[1],C=Object(r.useState)({_id:"fake",cardsPack_id:"",answer:"",question:"",grade:0,shots:0,type:"",rating:0,created:"",updated:""}),w=Object(ue.a)(C,2),P=w[0],y=w[1],N=Object(r.useCallback)((function(e,t){F.b.info(et[e-1],2),c($e({grade:e,card_id:t})),g(!1),k(!0)}),[g,c]),I=Object(r.useCallback)((function(t){O(t),e.length>0&&!t&&y(tt(e)),k(!1)}),[O,e]);return Object(r.useEffect)((function(){return o&&(c(De(t)),u(!1)),e.length>0&&y(tt(e)),function(){}}),[c,e,o,t]),""===t?Object(n.jsx)(d.a,{to:ct.PACKS}):a?Object(n.jsxs)(n.Fragment,{children:[" ",P&&Object(n.jsx)(Ie.a,{className:Je.a.layout,children:Object(n.jsx)(Re.a,{className:Je.a.content,children:Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{className:Je.a.question,children:[Object(n.jsx)("div",{className:Je.a.question,children:P.question}),Object(n.jsx)(J.a,{onClick:function(){return I(!0)},disabled:v,children:"CHECK"})]}),b&&Object(n.jsxs)("div",{children:[Object(n.jsx)(Ke.a,{}),Object(n.jsx)("div",{className:Je.a.answer,children:P.answer}),Object(n.jsxs)("div",{className:Je.a.buttons,children:[Object(n.jsx)("div",{className:Je.a.button,children:Object(n.jsx)(J.a,{onClick:function(){return N(1,P._id)},disabled:v,children:"I do not know it"})}),Object(n.jsx)("div",{className:Je.a.button,children:Object(n.jsx)(J.a,{onClick:function(){return N(2,P._id)},disabled:v,children:"I am not sure"})}),Object(n.jsx)("div",{className:Je.a.button,children:Object(n.jsx)(J.a,{onClick:function(){return N(3,P._id)},disabled:v,children:"I feel I knew it"})}),Object(n.jsx)("div",{className:Je.a.button,children:Object(n.jsx)(J.a,{onClick:function(){return N(4,P._id)},disabled:v,children:"I know it"})}),Object(n.jsx)("div",{className:Je.a.button,children:Object(n.jsx)(J.a,{onClick:function(){return N(5,P._id)},disabled:v,children:"I know well"})})]}),Object(n.jsx)("div",{className:Je.a.nextButton,children:Object(n.jsx)(J.a,{disabled:h,onClick:function(){return I(!1)},children:"NEXT"})}),Object(n.jsx)(Ke.a,{})]})]})})})]}):Object(n.jsx)(d.a,{to:ct.LOGIN})},nt=a(199),rt=c.a.memo((function(e){var t=e.children,a=Object(nt.a)(e,["children"]),c=Object(p.c)((function(e){return e.profile})),s=Object(p.c)((function(e){return e.isLoggedIn.isLoggedIn})),i=Object(r.useState)(!0),o=Object(ue.a)(i,2),u=o[0],l=o[1],j=Object(r.useState)(!1),b=Object(ue.a)(j,2),f=b[0],m=b[1],h=Object(r.useState)(""===c._id),g=Object(ue.a)(h,2),_=g[0],x=g[1],v=Object(p.b)();return Object(r.useEffect)((function(){u?(""===c._id&&v((function(e){C().then((function(t){e(H()),e(T(t.data._id,t.data.email,t.data.name,t.data.publicCardPacksCount,t.data.created,t.data.updated,t.data.isAdmin,t.data.verified,t.data.rememberMe,t.data.avatar,t.data.error))})).catch((function(t){var a=t.response?t.response.data.error:t.message+", more details in the console";e(Y(a)),F.b.error(a)}))})),l(!1)):(f||!_&&(_||""!==c._id)||setTimeout((function(){return m(!0)}),1500),s&&_&&x(!1))}),[u,l,c._id,m,s,v,f,_,x]),f?Object(n.jsx)(d.a,{to:ct.LOGIN}):_?Object(n.jsx)(Ne.a,{spinning:!0}):Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("div",Object(O.a)(Object(O.a)({},a),{},{children:t}))})})),ct={LOGIN:"/login",REGISTRATION:"/registration",PROFILE:"/profile",RECOVERY:"/recovery",CREATE_NEW_PASSWORD:"/create_new_password",LOGOUT:"/logout",PACKS:"/packs",CARDS:"/cards",LEARN:"/learn"};var st=function(){return Object(n.jsx)("div",{children:Object(n.jsxs)(d.d,{children:[Object(n.jsx)(d.b,{path:"/",exact:!0,render:function(){return Object(n.jsx)(d.a,{to:ct.PROFILE})}}),Object(n.jsx)(d.b,{path:ct.LOGIN,render:function(){return Object(n.jsx)(Q,{})}}),Object(n.jsx)(d.b,{path:ct.REGISTRATION,render:function(){return Object(n.jsx)(ce,{})}}),Object(n.jsx)(d.b,{path:ct.PROFILE,render:function(){return Object(n.jsxs)(rt,{children:[" ",Object(n.jsx)(de,{})," "]})}}),Object(n.jsx)(d.b,{path:"".concat(ct.CREATE_NEW_PASSWORD,"/:resetPasswordToken"),render:function(){return Object(n.jsx)(Ce,{})}}),Object(n.jsx)(d.b,{path:ct.RECOVERY,exact:!0,render:function(){return Object(n.jsx)(xe,{})}}),Object(n.jsx)(d.b,{path:ct.LOGOUT,render:function(){return Object(n.jsx)(we,{})}}),Object(n.jsx)(d.b,{path:ct.PACKS,render:function(){return Object(n.jsx)(rt,{children:Object(n.jsx)(Be,{})})}}),Object(n.jsx)(d.b,{path:"".concat(ct.CARDS,"/:packToken"),render:function(){return Object(n.jsx)(Me,{})}}),Object(n.jsx)(d.b,{path:"".concat(ct.CARDS),exact:!0,render:function(){return Object(n.jsxs)(rt,{children:[" ",Object(n.jsx)(Me,{})," "]})}}),Object(n.jsx)(d.b,{path:"".concat(ct.LEARN),exact:!0,render:function(){return Object(n.jsxs)(rt,{children:[" ",Object(n.jsx)(at,{})," "]})}}),Object(n.jsx)(d.b,{path:"/404",render:function(){return Object(n.jsx)(b,{})}}),Object(n.jsx)(d.a,{from:"*",to:"/404"})]})})},it=a(33),ot=a.n(it);var dt=function(){var e=Object(p.c)((function(e){return e.isLoggedIn.isLoggedIn}));return Object(n.jsx)("div",{className:ot.a.background,children:e?Object(n.jsxs)("div",{className:ot.a.nav_links,children:[Object(n.jsx)("div",{className:ot.a.nav_container,children:Object(n.jsx)(o.b,{className:ot.a.title_nav,activeClassName:ot.a.active,to:ct.PROFILE,children:"Profile"})}),Object(n.jsx)("div",{className:ot.a.nav_container,children:Object(n.jsx)(o.b,{className:ot.a.title_nav,activeClassName:ot.a.active,to:ct.PACKS,children:"Packs"})}),Object(n.jsx)("div",{className:ot.a.nav_container,children:Object(n.jsx)(o.b,{className:ot.a.title_nav,activeClassName:ot.a.active,to:ct.LOGOUT,children:"Logout"})})]}):Object(n.jsxs)("div",{className:ot.a.nav_links,children:[Object(n.jsx)("div",{className:ot.a.nav_container,children:Object(n.jsx)(o.b,{className:ot.a.title_nav,activeClassName:ot.a.active,to:ct.LOGIN,children:"Login"})}),Object(n.jsx)("div",{className:ot.a.nav_container,children:Object(n.jsx)(o.b,{className:ot.a.title_nav,activeClassName:ot.a.active,to:ct.REGISTRATION,children:"Registration"})}),Object(n.jsx)("div",{className:ot.a.nav_container,children:Object(n.jsx)(o.b,{className:ot.a.title_nav,activeClassName:ot.a.active,to:ct.RECOVERY,children:"Forgot Password?"})})]})})},ut=function(){return Object(n.jsx)("div",{className:"App",children:Object(n.jsxs)(o.a,{children:[Object(n.jsx)(dt,{}),Object(n.jsx)(st,{})]})})},lt=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,310)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;a(e),n(e),r(e),c(e),s(e)}))},jt=a(100),bt=a(190),Ot=Object(jt.c)({isLoggedIn:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case M:return Object(O.a)(Object(O.a)({},e),{},{login:t.value});case U:return Object(O.a)(Object(O.a)({},e),{},{password:t.value});case q:return Object(O.a)(Object(O.a)({},e),{},{rememberMe:t.value});case W:case V:return Object(O.a)(Object(O.a)({},e),{},{isLoggedIn:t.value});case z:return Object(O.a)(Object(O.a)({},e),{},{error:t.error});default:return e}},profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case G:return Object(O.a)(Object(O.a)({},e),{},{_id:t._id,email:t.email,name:t.name,publicCardPacksCount:t.publicCardPacksCount,created:t.created,updated:t.updated,isAdmin:t.isAdmin,verified:t.verified,rememberMe:t.rememberMe,avatar:t.avatar,error:t.error});default:return e}},isRegistered:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ee:return Object(O.a)(Object(O.a)({},e),{},{email:t.value});case te:return Object(O.a)(Object(O.a)({},e),{},{password:t.value});case ae:return Object(O.a)(Object(O.a)({},e),{},{isRegistered:t.isRegistered});case z:return Object(O.a)(Object(O.a)({},e),{},{error:t.error});default:return e}},recovery:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Oe:return Object(O.a)(Object(O.a)({},e),{},{isDone:t.value});case fe:return Object(O.a)(Object(O.a)({},e),{},{recoveryInfo:t.info});case me:return Object(O.a)(Object(O.a)({},e),{},{setNewPasswordInfo:t.info});case pe:return Object(O.a)(Object(O.a)({},e),{},{isNewPasswordSet:!0});default:return Object(O.a)({},e)}},packs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case qe:return Object(O.a)(Object(O.a)({},e),{},{cardPacks:t.data});case We:return Object(O.a)(Object(O.a)({},e),{},{cardsPack_id:t.value});case ze:return Object(O.a)(Object(O.a)({},e),{},{isLoading:t.isLoading});default:return e}},cards:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ae:return Object(O.a)(Object(O.a)({},e),{},{cards:t.data});case Te:return Object(O.a)(Object(O.a)({},e),{},{cardsPack_id:t.value});case Ge:return Object(O.a)(Object(O.a)({},e),{},{isLoading:t.isLoading});default:return e}},learn:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ze:return Object(O.a)(Object(O.a)({},e),{},{card_id:t.data.card_id,cardsPack_id:t.data.cardsPack_id,created:t.data.created,grade:t.data.grade,more_id:t.data.more_id,shots:t.data.shots,updated:t.data.updated,user_id:t.data.user_id,__v:t.data.__v,_id:t.data._id});default:return e}}}),ft=Object(jt.d)(Ot,Object(jt.a)(bt.a));window.store=ft,i.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(p.a,{store:ft,children:Object(n.jsx)(ut,{})})}),document.getElementById("root")),lt()},33:function(e,t,a){e.exports={background:"Header_background__3d8e3",nav_links:"Header_nav_links__2fY8Y",nav_container:"Header_nav_container__20c2T",title_nav:"Header_title_nav__3-n7c",active:"Header_active__35kSX"}},56:function(e,t,a){e.exports={"site-layout-content":"Learn_site-layout-content__2BC6M","components-layout-demo-top":"Learn_components-layout-demo-top__14vX7",logo:"Learn_logo__3Vw2g","ant-row-rtl":"Learn_ant-row-rtl__s01-6",content:"Learn_content__diOPh",question:"Learn_question__1s5sJ",layout:"Learn_layout__22IdH",buttons:"Learn_buttons__gdf5j",button:"Learn_button__zD3xK",nextButton:"Learn_nextButton__30IV7",answer:"Learn_answer__3HpdM"}},83:function(e,t,a){e.exports={profileContainer:"Profile_profileContainer__2wMDh",profile:"Profile_profile__gZD1V",avatar:"Profile_avatar__2fBCZ",info:"Profile_info__37oRo",name:"Profile_name__3gtJ0"}}},[[300,1,2]]]);
//# sourceMappingURL=main.d0e3b5cb.chunk.js.map